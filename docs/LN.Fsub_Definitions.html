<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">LN.Fsub_Definitions</h1>

<div class="code">
</div>

<div class="doc">
Definition of Fsub (System F with subtyping).

<div class="paragraph"> </div>

    Authors: Brian Aydemir and Arthur Chargu\'eraud, with help from
    Aaron Bohannon, Jeffrey Vaughan, and Dimitrios Vytiniotis.

<div class="paragraph"> </div>

    Table of contents:
<ul class="doclist">
<li> <a href="#syntax">Syntax (pre-terms)</a>

</li>
<li> <a href="#open">Opening</a>

</li>
<li> <a href="#lc">Local closure</a>

</li>
<li> <a href="#env">Environments</a>

</li>
<li> <a href="#wf">Well-formedness</a>

</li>
<li> <a href="#sub">Subtyping</a>

</li>
<li> <a href="#typing_doc">Typing</a>

</li>
<li> <a href="#values">Values</a>

</li>
<li> <a href="#reduction">Reduction</a>

</li>
<li> <a href="#auto">Automation</a>

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Metalib.Metatheory.html#"><span class="id" title="library">Metalib.Metatheory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab119"></a><h1 class="section"><a name="syntax"></a> Syntax (pre-terms)</h1>

<div class="paragraph"> </div>

 We use a locally nameless representation for Fsub, where bound
    variables are represented as natural numbers (de Bruijn indices)
    and free variables are represented as <span class="inlinecode"><a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a></span>s.  The type <span class="inlinecode"><a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a></span>,
    defined in the MetatheoryAtom library, represents names: there are
    infinitely many atoms, equality is decidable on atoms, and it is
    possible to generate an atom fresh for any given finite set of
    atoms.

<div class="paragraph"> </div>

    We say that the definitions below define pre-types (<span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typ"><span class="id" title="inductive">typ</span></a></span>) and
    pre-expressions (<span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#exp"><span class="id" title="inductive">exp</span></a></span>), collectively pre-terms, since the
    datatypes admit terms, such as <span class="inlinecode">(<a class="idref" href="LNgen.Fsub_ott.html#typ_all"><span class="id" title="constructor">typ_all</span></a></span> <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typ_top"><span class="id" title="constructor">typ_top</span></a></span> <span class="inlinecode">(<a class="idref" href="LN.Fsub_Definitions.html#typ_bvar"><span class="id" title="constructor">typ_bvar</span></a></span> <span class="inlinecode">3))</span>,
    where indices are unbound.  A term is locally closed when it
    contains no unbound indices.

<div class="paragraph"> </div>

    Note that indices for bound type variables are distinct from
    indices for bound expression variables.  We make this explicit in
    the definitions below of the opening operations. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="typ"><span class="id" title="inductive">typ</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="typ_top"><span class="id" title="constructor">typ_top</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_bvar"><span class="id" title="constructor">typ_bvar</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_all"><span class="id" title="constructor">typ_all</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_sum"><span class="id" title="constructor">typ_sum</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="exp"><span class="id" title="inductive">exp</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="exp_bvar"><span class="id" title="constructor">exp_bvar</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_abs"><span class="id" title="constructor">exp_abs</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_app"><span class="id" title="constructor">exp_app</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_let"><span class="id" title="constructor">exp_let</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_inl"><span class="id" title="constructor">exp_inl</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_inr"><span class="id" title="constructor">exp_inr</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
&nbsp;&nbsp;| <a name="exp_case"><span class="id" title="constructor">exp_case</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a><br/>
.<br/>

<br/>
</div>

<div class="doc">
We declare the constructors for indices and variables to be
    coercions.  For example, if Coq sees a <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a></span> where it expects an
    <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#exp"><span class="id" title="inductive">exp</span></a></span>, it will implicitly insert an application of <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">exp_bvar</span></a></span>;
    similar behavior happens for <span class="inlinecode"><a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a></span>s.  Thus, we may write
    <span class="inlinecode">(<a class="idref" href="LNgen.Fsub_ott.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a></span> <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typ_top"><span class="id" title="constructor">typ_top</span></a></span> <span class="inlinecode">(<a class="idref" href="LNgen.Fsub_ott.html#exp_app"><span class="id" title="constructor">exp_app</span></a></span> <span class="inlinecode">0</span> <span class="inlinecode"><a class="idref" href="Metalib.MSetWeakNotin.html#Notin_fun.Lemmas.x"><span class="id" title="variable">x</span></a>))</span> instead of <span class="inlinecode">(<a class="idref" href="LNgen.Fsub_ott.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a></span> <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typ_top"><span class="id" title="constructor">typ_top</span></a></span>
    <span class="inlinecode">(<a class="idref" href="LNgen.Fsub_ott.html#exp_app"><span class="id" title="constructor">exp_app</span></a></span> <span class="inlinecode">(<a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">exp_bvar</span></a></span> <span class="inlinecode">0)</span> <span class="inlinecode">(<a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a></span> <span class="inlinecode"><a class="idref" href="Metalib.MSetWeakNotin.html#Notin_fun.Lemmas.x"><span class="id" title="variable">x</span></a>)))</span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="LN.Fsub_Definitions.html#typ_bvar"><span class="id" title="constructor">typ_bvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_bvar"><span class="id" title="constructor">:</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_bvar"><span class="id" title="constructor">nat</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_bvar"><span class="id" title="constructor">&gt;-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_bvar"><span class="id" title="constructor">typ</span></a>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">:</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">atom</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">&gt;-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ</span></a>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">exp_bvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">:</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">nat</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">&gt;-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">exp</span></a>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">:</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">atom</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">&gt;-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab120"></a><h1 class="section"><a name="open"></a> Opening terms</h1>

<div class="paragraph"> </div>

 Opening replaces an index with a term.  This operation is required
    if we wish to work only with locally closed terms when going under
    binders (e.g., the typing rule for <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a></span>).  It also
    corresponds to informal substitution for a bound variable, which
    occurs in the rule for beta reduction.

<div class="paragraph"> </div>

    We need to define three functions for opening due the syntax of
    Fsub, and we name them according to the following convention.
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a></span>: Denotes an operation involving types appearing in types.

</li>
<li> <span class="inlinecode"><span class="id" title="var">te</span></span>: Denotes an operation involving types appearing in
        expressions.

</li>
<li> <span class="inlinecode"><span class="id" title="var">ee</span></span>: Denotes an operation involving expressions appearing in
        expressions.

</li>
</ul>

<div class="paragraph"> </div>

    The notation used below for decidable equality on natural numbers
    (e.g., <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a></span> <span class="inlinecode">==</span> <span class="inlinecode"><span class="id" title="var">J</span></span>) is defined in the CoqEqDec library, which is
    included by the Metatheory library.  The order of arguments to
    each "open" function is the same.  For example, <span class="inlinecode">(<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a></span>
    <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a>)</span> can be read as "substitute <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a></span> for index <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a></span> in <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span>."

<div class="paragraph"> </div>

    Note that we assume <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a></span> is locally closed (and similarly for the
    other opening functions).  This assumption simplifies the
    implementations of opening by letting us avoid shifting.  Since
    bound variables are indices, there is no need to rename variables
    to avoid capture.  Finally, we assume that these functions are
    initially called with index zero and that zero is the only unbound
    index in the term.  This eliminates the need to possibly subtract
    one in the case of indices. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> (<span class="id" title="var">K</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">U</span> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) (<span class="id" title="var">T</span> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a>)  {<span class="id" title="keyword">struct</span> <span class="id" title="var">T</span>} : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#typ_bvar"><span class="id" title="constructor">typ_bvar</span></a> <span class="id" title="var">J</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="Metalib.CoqEqDec.html#a6e843c62e1ac2a74737b7a9f636e026"><span class="id" title="notation">==</span></a> <span class="id" title="var">J</span> <span class="id" title="keyword">then</span> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="keyword">else</span> (<a class="idref" href="LN.Fsub_Definitions.html#typ_bvar"><span class="id" title="constructor">typ_bvar</span></a> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <span class="id" title="var">X</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">T1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">T1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">T1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="open_te_rec"><span class="id" title="definition">open_te_rec</span></a> (<span class="id" title="var">K</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">U</span> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">e</span>} : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LN.Fsub_Definitions.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">exp_bvar</span></a> <span class="id" title="var">i</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">exp_bvar</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <span class="id" title="var">V</span> <span class="id" title="var">e1</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a>  (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">V</span>)  (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a>  (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <span class="id" title="var">V</span> <span class="id" title="var">e1</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">V</span>)  (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">V</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">V</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> <span class="id" title="var">e1</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e2</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="var">e3</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> (<span class="id" title="var">k</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a>)  {<span class="id" title="keyword">struct</span> <span class="id" title="var">e</span>} : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LN.Fsub_Definitions.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">exp_bvar</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Metalib.CoqEqDec.html#a6e843c62e1ac2a74737b7a9f636e026"><span class="id" title="notation">==</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">else</span> (<a class="idref" href="LN.Fsub_Definitions.html#exp_bvar"><span class="id" title="constructor">exp_bvar</span></a> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <span class="id" title="var">V</span> <span class="id" title="var">e1</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <span class="id" title="var">V</span> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <span class="id" title="var">V</span> <span class="id" title="var">e1</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <span class="id" title="var">V</span> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">V</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e1</span>) <span class="id" title="var">V</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> <span class="id" title="var">e1</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="LN.Fsub_Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">e3</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Many common applications of opening replace index zero with an
    expression or variable.  The following definitions provide
    convenient shorthands for such uses.  Note that the order of
    arguments is switched relative to the definitions above.  For
    example, <span class="inlinecode">(<a class="idref" href="LN.Fsub_Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a>)</span> can be read as "substitute the variable
    <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a></span> for index <span class="inlinecode">0</span> in <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span>" and "open <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span> with the variable <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a></span>."
    Recall that the coercions above let us write <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a></span> in place of
    <span class="inlinecode">(<a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a></span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a>)</span>, assuming that <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a></span> is an <span class="inlinecode"><a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> := <a class="idref" href="LN.Fsub_Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> 0 <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="open_te"><span class="id" title="definition">open_te</span></a> <span class="id" title="var">e</span> <span class="id" title="var">U</span> := <a class="idref" href="LN.Fsub_Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> 0 <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="open_ee"><span class="id" title="definition">open_ee</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> := <a class="idref" href="LN.Fsub_Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> 0 <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab121"></a><h1 class="section"><a name="lc"></a> Local closure</h1>

<div class="paragraph"> </div>

 Recall that <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typ"><span class="id" title="inductive">typ</span></a></span> and <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#exp"><span class="id" title="inductive">exp</span></a></span> define pre-terms; these datatypes
    admit terms that contain unbound indices.  A term is locally
    closed, or syntactically well-formed, when no indices appearing in
    it are unbound.  The proposition <span class="inlinecode">(<span class="id" title="keyword">type</span></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a>)</span> holds when a type <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span>
    is locally closed, and <span class="inlinecode">(<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a></span> <span class="inlinecode"><a class="idref" href="Metalib.CoqFSetInterface.html#e"><span class="id" title="variable">e</span></a>)</span> holds when an expression <span class="inlinecode"><a class="idref" href="Metalib.CoqFSetInterface.html#e"><span class="id" title="variable">e</span></a></span> is
    locally closed.

<div class="paragraph"> </div>

    The inductive definitions below formalize local closure such that
    the resulting induction principles serve as structural induction
    principles over (locally closed) types and (locally closed)
    expressions.  In particular, unlike the situation with pre-terms,
    there are no cases for indices.  Thus, these induction principles
    correspond more closely to informal practice than the ones arising
    from the definitions of pre-terms.

<div class="paragraph"> </div>

    The interesting cases in the inductive definitions below are those
    that involve binding constructs, e.g., <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typ_all"><span class="id" title="constructor">typ_all</span></a></span>.  Intuitively, to
    check if the pre-term <span class="inlinecode">(<a class="idref" href="LNgen.Fsub_ott.html#typ_all"><span class="id" title="constructor">typ_all</span></a></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)</span> is locally closed, we must
    check that <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> is locally closed and that <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a></span> is locally closed
    when opened with a variable.  However, there is a choice as to how
    many variables to quantify over.  One possibility is to quantify
    over only one variable ("existential" quantification), as in
<pre>
  type_all : forall X T1 T2,
      type T1 -&gt;
      type (open_tt T2 X) -&gt;
      type (typ_all T1 T2) .
</pre>
  Or, we could quantify over as many variables as possible ("universal"
    quantification), as in
<pre>
  type_all : forall T1 T2,
      type T1 -&gt;
      (forall X : atom, type (open_tt T2 X)) -&gt;
      type (typ_all T1 T2) .
</pre>
  It is possible to show that the resulting relations are equivalent.
    The former makes it easy to build derivations, while the latter
    provides a strong induction principle.  McKinna and Pollack used
    both forms of this relation in their work on formalizing Pure Type
    Systems.

<div class="paragraph"> </div>

    We take a different approach here and use "cofinite"
    quantification: we quantify over all but finitely many variables.
    This approach provides a convenient middle ground: we can build
    derivations reasonably easily and get reasonably strong induction
    principles.  With some work, one can show that the definitions
    below are equivalent to ones that use existential, and hence also
    universal, quantification. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="type"><span class="id" title="inductive">type</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="type_top"><span class="id" title="constructor">type_top</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a name="type_var"><span class="id" title="constructor">type_var</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;| <a name="type_arrow"><span class="id" title="constructor">type_arrow</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="type_all"><span class="id" title="constructor">type_all</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="type_sum"><span class="id" title="constructor">type_sum</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="expr"><span class="id" title="inductive">expr</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="expr_var"><span class="id" title="constructor">expr_var</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;| <a name="expr_abs"><span class="id" title="constructor">expr_abs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">e1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>)<br/>
&nbsp;&nbsp;| <a name="expr_app"><span class="id" title="constructor">expr_app</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>)<br/>
&nbsp;&nbsp;| <a name="expr_tabs"><span class="id" title="constructor">expr_tabs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">e1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_te"><span class="id" title="definition">open_te</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>)<br/>
&nbsp;&nbsp;| <a name="expr_tapp"><span class="id" title="constructor">expr_tapp</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">V</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a>)<br/>
&nbsp;&nbsp;| <a name="expr_let"><span class="id" title="constructor">expr_let</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>)<br/>
&nbsp;&nbsp;| <a name="expr_inl"><span class="id" title="constructor">expr_inl</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>)<br/>
&nbsp;&nbsp;| <a name="expr_inr"><span class="id" title="constructor">expr_inr</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>)<br/>
&nbsp;&nbsp;| <a name="expr_case"><span class="id" title="constructor">expr_case</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a>)<br/>
.<br/>

<br/>
</div>

<div class="doc">
<a name="body_e_doc"></a> We also define what it means to be the
    body of an abstraction, since this simplifies slightly the
    definition of reduction and subsequent proofs.  It is not strictly
    necessary to make this definition in order to complete the
    development. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="body_e"><span class="id" title="definition">body_e</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">L</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab122"></a><h1 class="section"><a name="env"></a> Environments</h1>

<div class="paragraph"> </div>

 In our presentation of System F with subtyping, we use a single
    environment for both typing and subtyping assumptions.  We
    formalize environments by representing them as association lists
    (lists of pairs of keys and values) whose keys are atoms.

<div class="paragraph"> </div>

    The Metatheory and MetatheoryEnv libraries provide functions,
    predicates, tactics, notations and lemmas that simplify working
    with environments.  They treat environments as lists of type <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a></span>
    <span class="inlinecode">(<a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a></span> <span class="inlinecode">*</span> <span class="inlinecode"><a class="idref" href="Metalib.CoqUniquenessTacEx.html#Uniqueness_Of_SetoidList_Proofs.A"><span class="id" title="variable">A</span></a>)</span>.  The notation <span class="inlinecode">(<a class="idref" href="Metalib.MSetWeakNotin.html#Notin_fun.Lemmas.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">~</span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.a"><span class="id" title="variable">a</span></a>)</span> denotes a list consisting of
    a single binding from <span class="inlinecode"><a class="idref" href="Metalib.MSetWeakNotin.html#Notin_fun.Lemmas.x"><span class="id" title="variable">x</span></a></span> to <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.a"><span class="id" title="variable">a</span></a></span>.

<div class="paragraph"> </div>

    Since environments map <span class="inlinecode"><a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a></span>s, the type <span class="inlinecode"><a class="idref" href="Metalib.CoqUniquenessTacEx.html#Uniqueness_Of_SetoidList_Proofs.A"><span class="id" title="variable">A</span></a></span> should encode whether
    a particular binding is a typing or subtyping assumption.  Thus,
    we instantiate <span class="inlinecode"><a class="idref" href="Metalib.CoqUniquenessTacEx.html#Uniqueness_Of_SetoidList_Proofs.A"><span class="id" title="variable">A</span></a></span> with the type <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#binding"><span class="id" title="inductive">binding</span></a></span>, defined below. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="binding"><span class="id" title="inductive">binding</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="bind_sub"><span class="id" title="constructor">bind_sub</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#binding"><span class="id" title="inductive">binding</span></a><br/>
&nbsp;&nbsp;| <a name="bind_typ"><span class="id" title="constructor">bind_typ</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#binding"><span class="id" title="inductive">binding</span></a>.<br/>

<br/>
</div>

<div class="doc">
A binding <span class="inlinecode">(<a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode">~</span> <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a>)</span> records that a type variable <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a></span> is a
    subtype of <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span>, and a binding <span class="inlinecode">(<a class="idref" href="Metalib.MSetWeakNotin.html#Notin_fun.Lemmas.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">~</span> <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a>)</span> records that an
    expression variable <span class="inlinecode"><a class="idref" href="Metalib.MSetWeakNotin.html#Notin_fun.Lemmas.x"><span class="id" title="variable">x</span></a></span> has type <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a></span>.

<div class="paragraph"> </div>

    We define an abbreviation <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#env"><span class="id" title="definition">env</span></a></span> for the type of environments, and
    an abbreviation <span class="inlinecode"><a class="idref" href="LNgen.Fsub_proofs.html#empty"><span class="id" title="abbreviation">empty</span></a></span> for the empty environment.

<div class="paragraph"> </div>

    Note: Each instance of <span class="inlinecode"><span class="id" title="keyword">Notation</span></span> below defines an abbreviation
    since the left-hand side consists of a single identifier that is
    not in quotes.  These abbreviations are used for both parsing (the
    left-hand side is equivalent to the right-hand side in all
    contexts) and printing (the right-hand side is pretty-printed as
    the left-hand side).  Since <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a></span> is normally a polymorphic
    constructor whose type argument is implicit, we prefix the name
    with "<span class="inlinecode">@</span>" to signal to Coq that we are going to supply arguments
    to <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a></span> explicitly. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Notation</span> <a name="env"><span class="id" title="abbreviation">env</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="LN.Fsub_Definitions.html#binding"><span class="id" title="inductive">binding</span></a>)).<br/>
<span class="id" title="keyword">Notation</span> <a name="empty"><span class="id" title="abbreviation">empty</span></a> := (@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="LN.Fsub_Definitions.html#binding"><span class="id" title="inductive">binding</span></a>)).<br/>

<br/>
</div>

<div class="doc">
<b>Examples:</b> We use a convention where environments are
    never built using a cons operation <span class="inlinecode">((<a class="idref" href="Metalib.MSetWeakNotin.html#Notin_fun.Lemmas.x"><span class="id" title="variable">x</span></a>,</span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.a"><span class="id" title="variable">a</span></a>)</span> <span class="inlinecode">::</span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a>)</span> where <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a></span> is
    non-<span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a></span>.  This makes the shape of environments more uniform and
    saves us from excessive fiddling with the shapes of environments.
    For example, Coq's tactics sometimes distinguish between consing
    on a new binding and prepending a one element list, even though
    the two operations are convertible with each other.

<div class="paragraph"> </div>

    Consider the following environments written in informal notation.
<pre>
  1. (empty environment)
  2. x : T
  3. x : T, Y &lt;: S
  4. E, x : T, F
</pre>
  In the third example, we have an environment that binds an
    expression variable <span class="inlinecode"><a class="idref" href="Metalib.MSetWeakNotin.html#Notin_fun.Lemmas.x"><span class="id" title="variable">x</span></a></span> to <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span> and a type variable <span class="inlinecode"><a class="idref" href="LN.Fsub_Infrastructure.html#Y"><span class="id" title="variable">Y</span></a></span> to <span class="inlinecode"><a class="idref" href="Metalib.CoqMSetInterface.html#S"><span class="id" title="module">S</span></a></span>.
    In Coq, we would write these environments as follows.
<pre>
  1. empty
  2. x ~ bind_typ T
  3. Y ~ bind_sub S ++ x ~ bind_typ T
  4. F ++ x ~ bind_typ T ++ E
</pre>
 The symbol "<span class="inlinecode">++</span>" denotes list concatenation and associates to the
    right.  (That notation is defined in Coq's List library.)  Note
    that in Coq, environments grow on the left, since that is where
    the head of a list is. 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab123"></a><h1 class="section"><a name="wf"></a> Well-formedness</h1>

<div class="paragraph"> </div>

 A type <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span> is well-formed with respect to an environment <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a></span>,
    denoted <span class="inlinecode">(<a class="idref" href="LNgen.Fsub_ott.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a></span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a></span> <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a>)</span>, when <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a></span> is locally-closed and its free
    variables are bound in <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a></span>.  We need this relation in order to
    restrict the subtyping and typing relations, defined below, to
    contain only well-formed types.  (This relation is missing in the
    original statement of the POPLmark Challenge.)

<div class="paragraph"> </div>

    Note: It is tempting to define the premise of <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#wf_typ_var"><span class="id" title="constructor">wf_typ_var</span></a></span> as <span class="inlinecode">(<a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a></span>
    <span class="inlinecode">`<span class="id" title="tactic">in</span>`</span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.dom"><span class="id" title="definition">dom</span></a></span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a>)</span>, since that makes the rule easier to apply (no need
    to guess an instantiation for <span class="inlinecode"><a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a></span>).  Unfortunately, this is
    incorrect.  We need to check that <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.AssortedListProperties.X"><span class="id" title="variable">X</span></a></span> is bound as a type-variable,
    not an expression-variable; <span class="inlinecode">(<a class="idref" href="Metalib.AssocList.html#Make.dom"><span class="id" title="definition">dom</span></a></span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a>)</span> does not distinguish between
    the two kinds of bindings. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="wf_typ"><span class="id" title="inductive">wf_typ</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#env"><span class="id" title="abbreviation">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="wf_typ_top"><span class="id" title="constructor">wf_typ_top</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a name="wf_typ_var"><span class="id" title="constructor">wf_typ_var</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">E</span> (<span class="id" title="var">X</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Metalib.Metatheory.html#EnvImpl.binds"><span class="id" title="definition">binds</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;| <a name="wf_typ_arrow"><span class="id" title="constructor">wf_typ_arrow</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="wf_typ_all"><span class="id" title="constructor">wf_typ_all</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="wf_typ_sum"><span class="id" title="constructor">wf_typ_sum</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
.<br/>

<br/>
</div>

<div class="doc">
An environment <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a></span> is well-formed, denoted <span class="inlinecode">(<a class="idref" href="LNgen.Fsub_ott.html#wf_env"><span class="id" title="inductive">wf_env</span></a></span> <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.UniqMid.E"><span class="id" title="variable">E</span></a>)</span>, if each
    atom is bound at most at once and if each binding is to a
    well-formed type.  This is a stronger relation than the <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.uniq"><span class="id" title="inductive">uniq</span></a></span>
    relation defined in the MetatheoryEnv library.  We need this
    relation in order to restrict the subtyping and typing relations,
    defined below, to contain only well-formed environments.  (This
    relation is missing in the original statement of the POPLmark
    Challenge.)  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="wf_env"><span class="id" title="inductive">wf_env</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#env"><span class="id" title="abbreviation">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="wf_env_empty"><span class="id" title="constructor">wf_env_empty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="LN.Fsub_Definitions.html#empty"><span class="id" title="abbreviation">empty</span></a><br/>
&nbsp;&nbsp;| <a name="wf_env_sub"><span class="id" title="constructor">wf_env_sub</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">E</span> : <a class="idref" href="LN.Fsub_Definitions.html#env"><span class="id" title="abbreviation">env</span></a>) (<span class="id" title="var">X</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">T</span> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="Metalib.Metatheory.html#EnvImpl.dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>)<br/>
&nbsp;&nbsp;| <a name="wf_env_typ"><span class="id" title="constructor">wf_env_typ</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">E</span> : <a class="idref" href="LN.Fsub_Definitions.html#env"><span class="id" title="abbreviation">env</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">T</span> : <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="Metalib.Metatheory.html#EnvImpl.dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab124"></a><h1 class="section"><a name="sub"></a> Subtyping</h1>

<div class="paragraph"> </div>

 The definition of subtyping is straightforward.  It uses the
    <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.binds"><span class="id" title="definition">binds</span></a></span> relation from the MetatheoryEnv library (in the
    <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#sub_trans_tvar"><span class="id" title="constructor">sub_trans_tvar</span></a></span> case) and cofinite quantification (in the
    <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#sub_all"><span class="id" title="constructor">sub_all</span></a></span> case). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="sub"><span class="id" title="inductive">sub</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#env"><span class="id" title="abbreviation">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="sub_top"><span class="id" title="constructor">sub_top</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">S</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a name="sub_refl_tvar"><span class="id" title="constructor">sub_refl_tvar</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">X</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;| <a name="sub_trans_tvar"><span class="id" title="constructor">sub_trans_tvar</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">E</span> <span class="id" title="var">T</span> <span class="id" title="var">X</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Metalib.Metatheory.html#EnvImpl.binds"><span class="id" title="definition">binds</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
&nbsp;&nbsp;| <a name="sub_arrow"><span class="id" title="constructor">sub_arrow</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S2"><span class="id" title="variable">S2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="sub_all"><span class="id" title="constructor">sub_all</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S2"><span class="id" title="variable">S2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="sub_sum"><span class="id" title="constructor">sub_sum</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S2"><span class="id" title="variable">S2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
.<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab125"></a><h1 class="section"><a name="typing_doc"></a> Typing</h1>

<div class="paragraph"> </div>

 The definition of typing is straightforward.  It uses the <span class="inlinecode"><a class="idref" href="Metalib.AssocList.html#Make.binds"><span class="id" title="definition">binds</span></a></span>
    relation from the MetatheoryEnv library (in the <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typing_var"><span class="id" title="constructor">typing_var</span></a></span> case)
    and cofinite quantification in the cases involving binders (e.g.,
    <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typing_abs"><span class="id" title="constructor">typing_abs</span></a></span> and <span class="inlinecode"><a class="idref" href="LNgen.Fsub_ott.html#typing_tabs"><span class="id" title="constructor">typing_tabs</span></a></span>). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="typing"><span class="id" title="inductive">typing</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#env"><span class="id" title="abbreviation">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="typing_var"><span class="id" title="constructor">typing_var</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Metalib.Metatheory.html#EnvImpl.binds"><span class="id" title="definition">binds</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
&nbsp;&nbsp;| <a name="typing_abs"><span class="id" title="constructor">typing_abs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">V</span> <span class="id" title="var">e1</span> <span class="id" title="var">T1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a>)<br/>
&nbsp;&nbsp;| <a name="typing_app"><span class="id" title="constructor">typing_app</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T1</span> <span class="id" title="var">E</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/>
&nbsp;&nbsp;| <a name="typing_tabs"><span class="id" title="constructor">typing_tabs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">V</span> <span class="id" title="var">e1</span> <span class="id" title="var">T1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_te"><span class="id" title="definition">open_te</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a>)<br/>
&nbsp;&nbsp;| <a name="typing_tapp"><span class="id" title="constructor">typing_tapp</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T1</span> <span class="id" title="var">E</span> <span class="id" title="var">e1</span> <span class="id" title="var">T</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a name="typing_sub"><span class="id" title="constructor">typing_sub</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
&nbsp;&nbsp;| <a name="typing_let"><span class="id" title="constructor">typing_let</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/>
&nbsp;&nbsp;| <a name="typing_inl"><span class="id" title="constructor">typing_inl</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">e1</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="typing_inr"><span class="id" title="constructor">typing_inr</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">e1</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="typing_case"><span class="id" title="constructor">typing_case</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">T</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#typ_sum"><span class="id" title="constructor">typ_sum</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Metalib.MetatheoryAtom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">notin</span></a><a class="idref" href="Metalib.Metatheory.html#06a610b5021a539a67215d21440be337"><span class="id" title="notation">`</span></a> <a class="idref" href="LN.Fsub_Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Metalib.AssocList.html#b102cb7dfbadf7eeba2c3630534ef84d"><span class="id" title="notation">~</span></a> <a class="idref" href="LN.Fsub_Definitions.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a> <a class="idref" href="LN.Fsub_Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="LN.Fsub_Definitions.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
.<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab126"></a><h1 class="section"><a name="values"></a> Values</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="value"><span class="id" title="inductive">value</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="value_abs"><span class="id" title="constructor">value_abs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> <span class="id" title="var">e1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>)<br/>
&nbsp;&nbsp;| <a name="value_tabs"><span class="id" title="constructor">value_tabs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> <span class="id" title="var">e1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>)<br/>
&nbsp;&nbsp;| <a name="value_inl"><span class="id" title="constructor">value_inl</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>)<br/>
&nbsp;&nbsp;| <a name="value_inr"><span class="id" title="constructor">value_inr</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>)<br/>
.<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab127"></a><h1 class="section"><a name="reduction"></a> Reduction</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="red"><span class="id" title="inductive">red</span></a> : <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LN.Fsub_Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="red_app_1"><span class="id" title="constructor">red_app_1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_app_2"><span class="id" title="constructor">red_app_2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e2'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2'"><span class="id" title="variable">e2'</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_tapp"><span class="id" title="constructor">red_tapp</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1'</span> <span class="id" title="var">V</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="LN.Fsub_Definitions.html#V"><span class="id" title="variable">V</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_abs"><span class="id" title="constructor">red_abs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> <span class="id" title="var">e1</span> <span class="id" title="var">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_app"><span class="id" title="constructor">exp_app</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#v2"><span class="id" title="variable">v2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v2"><span class="id" title="variable">v2</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_tabs"><span class="id" title="constructor">red_tabs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T1</span> <span class="id" title="var">e1</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tapp"><span class="id" title="constructor">exp_tapp</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_tabs"><span class="id" title="constructor">exp_tabs</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_te"><span class="id" title="definition">open_te</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_let_1"><span class="id" title="constructor">red_let_1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#body_e"><span class="id" title="definition">body_e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_let"><span class="id" title="constructor">red_let</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">v1</span> <span class="id" title="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#body_e"><span class="id" title="definition">body_e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_let"><span class="id" title="constructor">exp_let</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_inl_1"><span class="id" title="constructor">red_inl_1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_inr_1"><span class="id" title="constructor">red_inr_1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_case_1"><span class="id" title="constructor">red_case_1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#body_e"><span class="id" title="definition">body_e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#body_e"><span class="id" title="definition">body_e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_case_inl"><span class="id" title="constructor">red_case_inl</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">v1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#body_e"><span class="id" title="definition">body_e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#body_e"><span class="id" title="definition">body_e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inl"><span class="id" title="constructor">exp_inl</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a>)<br/>
&nbsp;&nbsp;| <a name="red_case_inr"><span class="id" title="constructor">red_case_inr</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">v1</span> <span class="id" title="var">e2</span> <span class="id" title="var">e3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#body_e"><span class="id" title="definition">body_e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#body_e"><span class="id" title="definition">body_e</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_case"><span class="id" title="constructor">exp_case</span></a> (<a class="idref" href="LN.Fsub_Definitions.html#exp_inr"><span class="id" title="constructor">exp_inr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a>) <a class="idref" href="LN.Fsub_Definitions.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a>) (<a class="idref" href="LN.Fsub_Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="LN.Fsub_Definitions.html#e3"><span class="id" title="variable">e3</span></a> <a class="idref" href="LN.Fsub_Definitions.html#v1"><span class="id" title="variable">v1</span></a>)<br/>
.<br/>

<br/>
<span class="comment">(*&nbsp;**********************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab128"></a><h1 class="section"><a name="auto"></a> Automation</h1>

<div class="paragraph"> </div>

 We declare most constructors as <span class="inlinecode"><span class="id" title="keyword">Hint</span></span>s to be used by the <span class="inlinecode"><span class="id" title="tactic">auto</span></span>
    and <span class="inlinecode"><span class="id" title="tactic">eauto</span></span> tactics.  We exclude constructors from the subtyping
    and typing relations that use cofinite quantification.  It is
    unlikely that <span class="inlinecode"><span class="id" title="tactic">eauto</span></span> will find an instantiation for the finite
    set <span class="inlinecode"><a class="idref" href="Metalib.FSetExtra.html#L"><span class="id" title="variable">L</span></a></span>, and in those cases, <span class="inlinecode"><span class="id" title="tactic">eauto</span></span> can take some time to fail.
    (A priori, this is not obvious.  In practice, one adds as hints
    all constructors and then later removes some constructors when
    they cause proof search to take too long.) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="LN.Fsub_Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="LN.Fsub_Definitions.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="LN.Fsub_Definitions.html#wf_typ"><span class="id" title="inductive">wf_typ</span></a> <a class="idref" href="LN.Fsub_Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="LN.Fsub_Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="LN.Fsub_Definitions.html#red"><span class="id" title="inductive">red</span></a> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">sub_top</span> <span class="id" title="var">sub_refl_tvar</span> <span class="id" title="var">sub_arrow</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">sub_sum</span> <span class="id" title="var">typing_inl</span> <span class="id" title="var">typing_inr</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">typing_var</span> <span class="id" title="var">typing_app</span> <span class="id" title="var">typing_tapp</span> <span class="id" title="var">typing_sub</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">typing_inl</span> <span class="id" title="var">typing_inr</span> : <span class="id" title="var">core</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
